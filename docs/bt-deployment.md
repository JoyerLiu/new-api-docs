# 宝塔面板部署指南

## 前置要求

- 宝塔面板版本 >= 9.2.0
- 已安装 Docker 管理器插件

## 安装步骤

### 1. 安装宝塔面板

1. 前往 [宝塔面板官网](https://www.bt.cn/new/download.html)
2. 选择正式版的脚本下载安装
3. 按照提示完成安装并登录面板

### 2. 安装 Docker 管理器

1. 在宝塔面板菜单栏中点击 `Docker`
2. 首次进入会提示安装 Docker 服务
3. 点击`立即安装`
4. 等待安装完成

### 3. 安装 New API

1. 在 Docker 应用商店中找到 **New API**
2. 点击安装
3. 配置基本选项:
   - 端口映射: 默认 3000
   - 目录映射: 确保挂载 `/data` 目录
   - 环境变量: 按需配置

## 配置说明

### 基础配置
- 端口: 默认 3000,可根据需要修改
- 数据目录: 默认挂载到宿主机的 `/www/docker/new-api/data`

### 环境变量
可在容器配置中添加以下环境变量:
- `TZ`: 时区,建议设置为 `Asia/Shanghai`
- `SQL_DSN`: 数据库连接,默认使用 SQLite
- 其他环境变量参考[配置说明](configuration.md)

## 更新维护

### 更新版本
1. 在 Docker 管理器中找到 New API 容器
2. 点击`更新`或`重建`
3. 选择最新版本镜像
4. 确认更新

### 查看日志
1. 在容器列表中找到 New API
2. 点击`日志`查看运行日志

### 备份数据
定期备份 `/www/docker/new-api/data` 目录下的数据文件 